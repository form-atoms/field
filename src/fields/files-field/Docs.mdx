import { Meta, Stories } from "@storybook/addon-docs/blocks";
import * as FilesFieldStories from "./filesField.stories";

<Meta title="fields/filesField" of={FilesFieldStories} />

<hgroup>

<p class="category">Fields</p>

# `filesField(): ZodField<File[] | [File, ...File[]]>`

A field to hold `input[type="file"]` values.

</hgroup>

> **NOTE:** Can hold any number of files, be it zero, one or many.

```ts
import { filesField } from "@form-atoms/field";

// required file, must be filled to submit
const profilePic = filesField({
  required_error: "Please upload you profile picture.",
});

// optional files, can be empty to submit
const attachments = filesField().optional();
```

Usable with [useFilesFieldProps()](?path=/docs/hooks-useFilesfieldprops--docs)

## Initial Config

| Param            | Value                                    |
| ---------------- | ---------------------------------------- |
| `value`          | `[]`                                     |
| `schema`         | `z.array(z.instanceof(File)).nonempty()` |
| `optionalSchema` | `z.array(z.instanceof(File))`            |

> **NOTE:** the `File` API is not available on the server side, so in practice the schema is defined as `z.array(isServer ? z.never() : z.instanceof(File)`.

<Stories />
