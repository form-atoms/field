import { Meta, Markdown, Stories } from "@storybook/blocks";
import * as CheckboxStories from "./checkboxField.stories";

import Config from "./config.md?raw";

<Meta title="fields/checkboxField" of={CheckboxStories} />

# `checkboxField()`

A field to represent a 2-state checkbox which will have `true` or `false` value.

Unlike [booleanField()](?path=/docs/fields-booleanfield--docs), the `checkboxField`

- cannot have `undefined` value
- when required, must have `true` value to submit a form (cannot be `false`)

```ts
import { checkboxField } from "@form-atoms/field";
// required checkbox, must be checked to submit
// the `schema` is used as validationSchema
const termsOfService = checkboxField({
  name: "tos",
  required_error: "Please accept the terms of service to proceed.",
});

// optional checkbox, can be unchecked to submit
// the `optionalSchema` is used as validationSchema
const newsletter = checkboxField().optional();
```

## Initial Config

<Markdown>{Config}</Markdown>

## useCheckboxFieldProps(checkboxField)

A hook providing props to controll a checkbox input.

```tsx
// Example component
const CheckboxInput = ({
  field,
  label,
}: {
  field: CheckboxFieldAtom;
  label: ReactNode;
}) => {
  const props = useCheckboxFieldProps(field);

  return (
    <div style={{ margin: "20px 0" }}>
      <input type="checkbox" {...props} />
      <FieldLabel field={field} label={label} />
      <div>
        <FieldErrors field={field} />
      </div>
    </div>
  );
};
```

<Stories />
